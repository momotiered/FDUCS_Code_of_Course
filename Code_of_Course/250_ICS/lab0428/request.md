# Lab 09: 进程管理与编程实践

## 1. 实验⽬标
- 掌握 Linux 中与进程相关的常⽤命令。
- 熟悉使⽤系统调⽤创建和管理进程。
- 能够使⽤ execve 系统调⽤执⾏程序。
- 理解⽗⼦进程关系及进程同步机制。

## 2. 实验内容与要求

### 2.1 课堂练习：进程相关命令实践

#### 任务⼀：使⽤命令查看进程信息
阅读对应命令的 man ⼿册，掌握常⽤开关选项。⽂档中需简要描述所使⽤的开关及观察到的信息。

1. **使⽤ ps 命令快速查看进程列表**:
   - 只列出当前⽤户的进程。
   - 列出所有⽤户的进程，并显示每个进程对应的⽤户信息。
   - 显示进程启动时的命令⾏参数信息。

2. **使⽤下列命令进⼀步观察进程状态**:
   - 使⽤ pstree 展示当前系统中的进程树结构。
   - 使⽤ pidof 显示指定命令对应的进程 ID, 例如查询 pidof 命令本身的 PID。
   - 使⽤ lsof 列出当前打开的⽂件，并结合 grep 过滤结果，只显示特定程序 (如 lsof 本身) 相关的打开⽂件。

### 2.2 编程实践：进程创建与管理

#### 编程任务⼀：使⽤ execve 执⾏命令
编写⼀个 C 程序，使⽤ execve 系统调⽤执⾏系统命令 ls -l, 列出当前⽬录下的⽂件和⽬录。

**要求**：说明⽂档中简要描述 execve 的使⽤⽅式及程序执⾏效果。

#### 编程任务⼆：⼦进程中使⽤ execve
编写⼀个 C 程序:
1. 创建⼀个⼦进程。
2. 在⼦进程中调⽤ execve 执⾏系统命令 ls -l。
3. ⽗进程等待⼦进程结束。

**要求**：说明⽂档中描述⽗⼦进程的创建逻辑及观察到的执⾏流程。

#### 编程任务三：⽗⼦进程管理与退出信息收集
编写⼀个 C 程序，要求实现:

**⽗进程**:
- 创建三个⼦进程。
- 使⽤ waitpid 逐个等待⼦进程结束。
- 打印每个⼦进程的 PID 和退出码。

**每个⼦进程**:
- 睡眠⼀段随机时间 (1~9 秒)。
- 睡眠结束后打印⾃身的 PID 和睡眠时间。
- 退出时，将睡眠秒数作为退出码返回。

**要求**：说明⽂档中清晰说明:
- fork、sleep、waitpid 的使⽤⽅式。
- ⽗⼦进程如何同步以及如何获取退出码。

## 3. 提交内容
- 源代码⽂件 (需包含必要的注释)。
- 实验说明⽂档 (简要总结每个任务的完成情况，描述关键命令和函数的使⽤)。